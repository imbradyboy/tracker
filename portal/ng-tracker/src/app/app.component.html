<nav>
  <mat-toolbar class="justify-content-between">

    <div class="d-flex align-items-center">
      <a class="d-flex align-items-end px-0" mat-button routerLink="/" aria-label="Firebase-me logo home button">
        <img src="assets/images/brand/firebase_full.png" alt="Firebase-me logo" width="40" height="40"/>
        <span id="logo-text">Firetrace</span>
      </a>

      <ng-container *ngIf="projectState$ | async as pro">
<!--        <ng-container *ngIf="selectedProjectState$ | async as sp">-->
          <mat-divider class="mx-4" style="height:40px" [vertical]="true"></mat-divider>
          <mat-form-field id="project-picker" appearance="legacy">
            <mat-select [value]="'0'">
              <mat-option value="0" disabled>Select project</mat-option>
              <mat-option value="new" (click)="openWriteProjectDialog()">Create new project</mat-option>
              <mat-option *ngFor="let p of pro" [value]="p.nickname">{{p.nickname}}</mat-option>
            </mat-select>
          </mat-form-field>
<!--        </ng-container>-->
      </ng-container>
    </div>
    <!--    <mat-form-field appearance="legacy">-->
    <!--      &lt;!&ndash;        <mat-label>Choose an option</mat-label>&ndash;&gt;-->
    <!--      <mat-select>-->
    <!--        <mat-option value="option1">Create new project</mat-option>-->
    <!--        <mat-option value="option1">Option 1</mat-option>-->
    <!--        <mat-option value="option2" disabled>Option 2 (disabled)</mat-option>-->
    <!--        <mat-option value="option3">Option 3</mat-option>-->
    <!--      </mat-select>-->
    <!--    </mat-form-field>-->
    <ng-container *ngIf="auth.isLoggedIn()">

      <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="Example icon-button with a menu">
        <mat-icon>person</mat-icon>
      </button>
      <mat-menu #menu="matMenu">
        <button mat-menu-item (click)="openLogoutDialog()">
          <mat-icon>logout</mat-icon>
          <span>Logout</span>
        </button>
      </mat-menu>
    </ng-container>
  </mat-toolbar>

  {{'' // controlled using loading state}}
  <ng-container *ngIf="state$ | async as state">
    <mat-progress-bar class="w-100" color="accent" [mode]="state.mode" [value]="state.value"
                      *ngIf="state.isVisible"></mat-progress-bar>
  </ng-container>

</nav>

<section>

  <router-outlet></router-outlet>
</section>

<!--d-flex flex-column align-items-start justify-content-center-->
